# ğŸ—ï¸ Arquitetura do Projeto - Cinema API

Este documento descreve em detalhes a arquitetura utilizada no projeto Cinema API.

## ğŸ“ VisÃ£o Geral

O projeto adota a **Vertical Slice Architecture (VSA)** combinada com conceitos de **Clean Architecture** e **Domain-Driven Design (DDD)**. Esta abordagem organiza o cÃ³digo por **funcionalidades (features)** ao invÃ©s de camadas tÃ©cnicas horizontais, promovendo maior coesÃ£o e menor acoplamento.

---

## ğŸ¯ Diagrama da Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   ğŸ“± CLIENTS                                     â”‚
â”‚                            (Web, Mobile, External APIs)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ğŸŒ INFRASTRUCTURE                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  HttpSecurity   â”‚  â”‚   OpenAPI/      â”‚  â”‚      AsyncConfig                â”‚  â”‚
â”‚  â”‚    Config       â”‚  â”‚   Swagger       â”‚  â”‚   (Email async)                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                        PROVIDERS (Adapters)                                 â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚â”‚
â”‚  â”‚   â”‚   EmailProvider     â”‚        â”‚    PaymentProvider      â”‚                â”‚â”‚
â”‚  â”‚   â”‚  (impl. IEmailGW)   â”‚        â”‚   (impl. IPaymentGW)    â”‚                â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ğŸ¯ FEATURES (Vertical Slices)                          â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   ğŸ¬ Movies  â”‚ â”‚  ğŸŸï¸ Sessions â”‚ â”‚  ğŸ« Tickets  â”‚ â”‚  ğŸ¢ Theaters â”‚            â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚  â”‚ Controller   â”‚ â”‚ Controller   â”‚ â”‚ Controller   â”‚ â”‚ Controller   â”‚            â”‚
â”‚  â”‚ DTO          â”‚ â”‚ DTO          â”‚ â”‚ DTO          â”‚ â”‚ DTO          â”‚            â”‚
â”‚  â”‚ Mapper       â”‚ â”‚ Mapper       â”‚ â”‚ Mapper       â”‚ â”‚ Mapper       â”‚            â”‚
â”‚  â”‚ UseCase      â”‚ â”‚ UseCase      â”‚ â”‚ UseCase      â”‚ â”‚ UseCase      â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  ğŸšª Rooms    â”‚ â”‚  ğŸ‘¤ Clients  â”‚ â”‚  ğŸ‘” Managers â”‚ â”‚  ğŸ” Admins   â”‚            â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            â”‚
â”‚  â”‚ Controller   â”‚ â”‚ Controller   â”‚ â”‚ Controller   â”‚ â”‚ Controller   â”‚            â”‚
â”‚  â”‚ DTO          â”‚ â”‚ DTO          â”‚ â”‚ DTO          â”‚ â”‚ DTO          â”‚            â”‚
â”‚  â”‚ Mapper       â”‚ â”‚ Mapper       â”‚ â”‚ Mapper       â”‚ â”‚ Mapper       â”‚            â”‚
â”‚  â”‚ UseCase      â”‚ â”‚ UseCase      â”‚ â”‚ UseCase      â”‚ â”‚ UseCase      â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          ğŸ“¦ _shared                                       â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚   â”‚ Exceptions  â”‚  â”‚    Gateways     â”‚  â”‚       Validation           â”‚   â”‚   â”‚
â”‚  â”‚   â”‚  & Handler  â”‚  â”‚ (Interfaces)    â”‚  â”‚   (Custom Validators)      â”‚   â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ğŸ›ï¸ DOMAIN (Core)                                   â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                              ENTITIES                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Movie  â”‚ â”‚ Session â”‚ â”‚ Ticket â”‚ â”‚ Theater â”‚ â”‚  Room  â”‚ â”‚ Client/User  â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚
â”‚  â”‚  â”‚  Row   â”‚ â”‚  Seat   â”‚ â”‚ Genre  â”‚ â”‚ Address â”‚ â”‚Manager â”‚                  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                               ENUMS                                         â”‚ â”‚
â”‚  â”‚  AgeRating â”‚ Format â”‚ Gender â”‚ MovieStatus â”‚ PaymentMethod â”‚ Role â”‚ ...    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                          REPOSITORIES (Ports)                               â”‚ â”‚
â”‚  â”‚  IMovieRepository â”‚ ISessionRepository â”‚ ITicketRepository â”‚ ...           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ğŸ’¾ DATABASE (PostgreSQL)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Estrutura de Pastas Detalhada

### ğŸ›ï¸ Domain (`/domain`)

O **nÃºcleo do negÃ³cio**, independente de frameworks e bibliotecas externas.

```
domain/
â”œâ”€â”€ entities/           # Entidades do domÃ­nio (JPA Entities)
â”‚   â”œâ”€â”€ Movie.java      # Filme
â”‚   â”œâ”€â”€ Session.java    # SessÃ£o de cinema
â”‚   â”œâ”€â”€ Ticket.java     # Ingresso
â”‚   â”œâ”€â”€ Theater.java    # Cinema
â”‚   â”œâ”€â”€ Room.java       # Sala
â”‚   â”œâ”€â”€ Row.java        # Fileira de assentos
â”‚   â”œâ”€â”€ Seat.java       # Assento
â”‚   â”œâ”€â”€ Client.java     # Cliente
â”‚   â”œâ”€â”€ Manager.java    # Gerente
â”‚   â”œâ”€â”€ User.java       # UsuÃ¡rio base
â”‚   â”œâ”€â”€ Genre.java      # GÃªnero de filme
â”‚   â””â”€â”€ Address.java    # EndereÃ§o
â”‚
â”œâ”€â”€ enums/              # EnumeraÃ§Ãµes do domÃ­nio
â”‚   â”œâ”€â”€ AgeRating.java  # ClassificaÃ§Ã£o etÃ¡ria (LIVRE, 10, 12, 14, 16, 18)
â”‚   â”œâ”€â”€ Format.java     # Formato (2D, 3D, IMAX)
â”‚   â”œâ”€â”€ Subtitle.java   # Legendado/Dublado
â”‚   â”œâ”€â”€ MovieStatus.java # Status do filme
â”‚   â”œâ”€â”€ PaymentMethod.java # MÃ©todo de pagamento
â”‚   â”œâ”€â”€ Role.java       # Papel do usuÃ¡rio (ADMIN, MANAGER, CLIENT)
â”‚   â”œâ”€â”€ RoomType.java   # Tipo de sala
â”‚   â”œâ”€â”€ SeatType.java   # Tipo de assento
â”‚   â””â”€â”€ Gender.java     # GÃªnero
â”‚
â””â”€â”€ repositories/       # Interfaces de repositÃ³rio (Ports)
    â”œâ”€â”€ movie/
    â”‚   â””â”€â”€ IMovieRepository.java
    â”œâ”€â”€ session/
    â”‚   â””â”€â”€ ISessionRepository.java
    â”œâ”€â”€ ticket/
    â”‚   â””â”€â”€ ITicketRepository.java
    â””â”€â”€ ...
```

#### Por que separar o Domain?

- **IndependÃªncia**: O domÃ­nio nÃ£o conhece detalhes de implementaÃ§Ã£o
- **Testabilidade**: FÃ¡cil de testar isoladamente
- **Regra de DependÃªncia**: Todas as dependÃªncias apontam para o domÃ­nio

---

### ğŸ¯ Features (`/features`) - Vertical Slices

Cada **feature** representa uma fatia vertical da aplicaÃ§Ã£o, contendo todos os componentes necessÃ¡rios para implementar uma funcionalidade completa.

```
features/
â”œâ”€â”€ _shared/                    # Componentes compartilhados
â”‚   â”œâ”€â”€ exceptions/             # ExceÃ§Ãµes customizadas
â”‚   â”‚   â”œâ”€â”€ BadRequestException.java
â”‚   â”‚   â”œâ”€â”€ ResourceNotFoundException.java
â”‚   â”‚   â”œâ”€â”€ ResourceAlreadyExistsException.java
â”‚   â”‚   â””â”€â”€ handler/            # Global Exception Handler
â”‚   â”œâ”€â”€ gateways/               # Interfaces para serviÃ§os externos
â”‚   â”‚   â”œâ”€â”€ email/              # Interface para envio de email
â”‚   â”‚   â””â”€â”€ payment/            # Interface para pagamentos
â”‚   â””â”€â”€ validation/             # Validadores customizados
â”‚       â”œâ”€â”€ ValueOfEnum.java
â”‚       â””â”€â”€ ValueOfEnumValidator.java
â”‚
â”œâ”€â”€ movies/                     # ğŸ¬ Feature: Gerenciamento de Filmes
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ MovieController.java    # Endpoints REST
â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ RegisterMovieRequestDTO.java
â”‚   â”‚   â””â”€â”€ MovieResponseDTO.java
â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â””â”€â”€ IMovieMapper.java       # Entity <-> DTO
â”‚   â””â”€â”€ usecase/
â”‚       â”œâ”€â”€ IRegisterMovieUseCase.java
â”‚       â”œâ”€â”€ RegisterMovieUseCase.java
â”‚       â”œâ”€â”€ IFindAllMoviesUseCase.java
â”‚       â”œâ”€â”€ FindAllMoviesUseCase.java
â”‚       â”œâ”€â”€ IFindMovieByIdUseCase.java
â”‚       â””â”€â”€ FindMovieByIdUseCase.java
â”‚
â”œâ”€â”€ sessions/                   # ğŸŸï¸ Feature: SessÃµes de Cinema
â”‚   â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ mapper/
â”‚   â””â”€â”€ usecase/
â”‚
â”œâ”€â”€ tickets/                    # ğŸ« Feature: Ingressos
â”‚   â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ dto/
â”‚   â”œâ”€â”€ mapper/
â”‚   â””â”€â”€ usecase/
â”‚
â”œâ”€â”€ theaters/                   # ğŸ¢ Feature: Cinemas
â”œâ”€â”€ rooms/                      # ğŸšª Feature: Salas
â”œâ”€â”€ clients/                    # ğŸ‘¤ Feature: Clientes
â”œâ”€â”€ managers/                   # ğŸ‘” Feature: Gerentes
â””â”€â”€ admins/                     # ğŸ” Feature: Administradores
```

#### Anatomia de uma Feature

Cada feature contÃ©m 4 componentes principais:

| Componente | Responsabilidade |
|------------|------------------|
| **Controller** | Recebe requisiÃ§Ãµes HTTP, valida entrada, delega para use cases |
| **DTO** | Data Transfer Objects - contratos de entrada e saÃ­da da API |
| **Mapper** | Converte entre Entities e DTOs |
| **UseCase** | ContÃ©m a lÃ³gica de negÃ³cio, orquestra operaÃ§Ãµes |

#### Fluxo de uma RequisiÃ§Ã£o

```
HTTP Request
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Controller â”‚â”€â”€â”€â–¶â”‚ UseCase â”‚â”€â”€â”€â–¶â”‚Repositoryâ”‚â”€â”€â”€â–¶â”‚  Database  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                 â”‚
     â”‚                 â–¼
     â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚           â”‚ Mapper  â”‚
     â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                 â”‚
     â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      HTTP Response      â”‚
â”‚   (DTO serializado)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ”§ Infrastructure (`/infrastructure`)

ImplementaÃ§Ãµes concretas e configuraÃ§Ãµes do framework.

```
infrastructure/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ HttpSecurityConfig.java  # ConfiguraÃ§Ã£o de seguranÃ§a HTTP
â”‚   â”œâ”€â”€ OpenApiConfig.java       # ConfiguraÃ§Ã£o do Swagger/OpenAPI
â”‚   â””â”€â”€ AsyncConfig.java         # ConfiguraÃ§Ã£o para operaÃ§Ãµes assÃ­ncronas
â”‚
â”œâ”€â”€ database/
â”‚   â””â”€â”€ DatabaseSeeder.java      # Seed inicial do banco de dados
â”‚
â””â”€â”€ providers/                   # ImplementaÃ§Ãµes de Gateways
    â”œâ”€â”€ email/
    â”‚   â””â”€â”€ EmailProvider.java   # ImplementaÃ§Ã£o do envio de emails
    â””â”€â”€ payment/
        â””â”€â”€ PaymentProvider.java # ImplementaÃ§Ã£o de pagamentos
```

#### InversÃ£o de DependÃªncia

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FEATURES                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              UseCase (Ticket)                    â”‚   â”‚
â”‚   â”‚                     â”‚                            â”‚   â”‚
â”‚   â”‚                     â–¼                            â”‚   â”‚
â”‚   â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚   â”‚
â”‚   â”‚         â”‚   IEmailGateway     â”‚â—„â”€â”€â”€ Interface    â”‚   â”‚
â”‚   â”‚         â”‚   (em _shared)      â”‚                  â”‚   â”‚
â”‚   â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚ implementa
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   INFRASTRUCTURE                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              EmailProvider                       â”‚   â”‚
â”‚   â”‚         (implementa IEmailGateway)               â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo Completo: Compra de Ingresso

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     POST /tickets/buy      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚  TicketController  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                                                  â–¼
                                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚  BuyTicketUseCase  â”‚
                                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                             â”‚                             â”‚
                    â–¼                             â–¼                             â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ ISessionRepo    â”‚         â”‚ IPaymentGateway â”‚           â”‚ IEmailGateway   â”‚
          â”‚ (find session)  â”‚         â”‚ (process pay)   â”‚           â”‚ (send confirm)  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                             â”‚                             â”‚
                    â–¼                             â–¼                             â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   PostgreSQL    â”‚         â”‚ PaymentProvider â”‚           â”‚  EmailProvider  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… BenefÃ­cios da Arquitetura

### Vertical Slice Architecture

| BenefÃ­cio | DescriÃ§Ã£o |
|-----------|-----------|
| **Alta CoesÃ£o** | Todo cÃ³digo relacionado a uma feature estÃ¡ junto |
| **Baixo Acoplamento** | Features sÃ£o independentes entre si |
| **FÃ¡cil NavegaÃ§Ã£o** | Encontrar cÃ³digo por funcionalidade, nÃ£o por camada |
| **Escalabilidade** | Novas features nÃ£o impactam as existentes |
| **Testes Focados** | Cada feature pode ser testada isoladamente |

### Clean Architecture + DDD

| BenefÃ­cio | DescriÃ§Ã£o |
|-----------|-----------|
| **IndependÃªncia de Framework** | DomÃ­nio nÃ£o depende do Spring |
| **Testabilidade** | Use cases testÃ¡veis sem infraestrutura |
| **Flexibilidade** | FÃ¡cil trocar implementaÃ§Ãµes (ex: banco de dados) |
| **Manutenibilidade** | Regras de negÃ³cio isoladas e claras |

---

## ğŸ“Š ComparaÃ§Ã£o: Layered vs Vertical Slice

### Arquitetura em Camadas (Tradicional)
```
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ MovieController.java
â”‚   â”œâ”€â”€ SessionController.java
â”‚   â””â”€â”€ TicketController.java
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ MovieService.java
â”‚   â”œâ”€â”€ SessionService.java
â”‚   â””â”€â”€ TicketService.java
â”œâ”€â”€ repositories/
â”‚   â”œâ”€â”€ MovieRepository.java
â”‚   â”œâ”€â”€ SessionRepository.java
â”‚   â””â”€â”€ TicketRepository.java
â””â”€â”€ models/
    â”œâ”€â”€ Movie.java
    â”œâ”€â”€ Session.java
    â””â”€â”€ Ticket.java
```

### Vertical Slice Architecture (Este Projeto)
```
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ movies/
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ usecase/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ mapper/
â”‚   â”œâ”€â”€ sessions/
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ usecase/
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â””â”€â”€ mapper/
â”‚   â””â”€â”€ tickets/
â”‚       â”œâ”€â”€ controller/
â”‚       â”œâ”€â”€ usecase/
â”‚       â”œâ”€â”€ dto/
â”‚       â””â”€â”€ mapper/
â””â”€â”€ domain/
    â”œâ”€â”€ entities/
    â””â”€â”€ repositories/
```

---

## ğŸ§© PadrÃµes de Projeto Utilizados

| PadrÃ£o | Onde Ã© usado |
|--------|--------------|
| **Repository** | Interfaces em `domain/repositories/`, implementadas pelo Spring Data JPA |
| **Dependency Injection** | Em todos os controllers e use cases via construtor |
| **Strategy** | Gateways para email e pagamento (interfaces com mÃºltiplas implementaÃ§Ãµes possÃ­veis) |
| **DTO** | TransferÃªncia de dados entre camadas |
| **Mapper** | ConversÃ£o entre entities e DTOs |
| **Use Case** | Cada operaÃ§Ã£o de negÃ³cio encapsulada em sua prÃ³pria classe |

---

## ğŸš€ Como Adicionar uma Nova Feature

1. Criar pasta em `features/nome-da-feature/`
2. Adicionar subpastas: `controller/`, `dto/`, `mapper/`, `usecase/`
3. Criar a entidade em `domain/entities/` (se necessÃ¡rio)
4. Criar o repositÃ³rio em `domain/repositories/nome-da-feature/`
5. Implementar DTOs de request e response
6. Implementar interface e classe do use case
7. Implementar o mapper
8. Implementar o controller com os endpoints

---

## ğŸ“š ReferÃªncias

- [Vertical Slice Architecture - Jimmy Bogard](https://www.jimmybogard.com/vertical-slice-architecture/)
- [Clean Architecture - Robert C. Martin](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [Domain-Driven Design - Eric Evans](https://domainlanguage.com/ddd/)

